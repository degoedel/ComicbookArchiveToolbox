<prism:PrismApplication x:Class="ComicbookArchiveToolbox.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:ComicbookArchiveToolbox"
             xmlns:prism="http://prismlibrary.com/">
	<prism:PrismApplication.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<!-- MahApps.Metro resource dictionaries -->
				<ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml" />
				<ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Fonts.xaml" />
				<!-- Dark Grey Theme -->
				<ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Themes/Dark.Steel.xaml" />

				<!-- Rounded Design Dark Theme -->
				<ResourceDictionary>
					<!-- Dark Theme Color Resources -->
					<SolidColorBrush x:Key="DarkGrey.Background" Color="#1A1A2E"/>
					<SolidColorBrush x:Key="DarkGrey.Surface" Color="#16213E"/>
					<SolidColorBrush x:Key="DarkGrey.Surface2" Color="#0F3460"/>
					<SolidColorBrush x:Key="DarkGrey.Surface3" Color="#533483"/>
					<SolidColorBrush x:Key="DarkGrey.Accent" Color="#64B5F6"/>
					<SolidColorBrush x:Key="DarkGrey.AccentDark" Color="#42A5F5"/>
					<SolidColorBrush x:Key="DarkGrey.Border" Color="#2E2E54"/>
					<SolidColorBrush x:Key="DarkGrey.Text" Color="#F0F0F5"/>
					<SolidColorBrush x:Key="DarkGrey.TextSecondary" Color="#B8B8D1"/>

					<!-- Rounded Card Style -->
					<Style x:Key="ModernCard" TargetType="Border">
						<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Gray2}"/>
						<Setter Property="BorderBrush" Value="{DynamicResource MahApps.Brushes.Gray5}"/>
						<Setter Property="BorderThickness" Value="1"/>
						<Setter Property="CornerRadius" Value="12"/>
						<Setter Property="Padding" Value="20"/>
						<Setter Property="Margin" Value="8"/>
					</Style>

					<!-- Rounded Navigation Button Style -->
					<Style x:Key="NavigationButton" TargetType="Button" BasedOn="{StaticResource MahApps.Styles.Button.Square}">
						<Setter Property="Width" Value="60"/>
						<Setter Property="Height" Value="60"/>
						<Setter Property="Margin" Value="0,2"/>
						<Setter Property="Background" Value="Transparent"/>
						<Setter Property="BorderThickness" Value="0"/>
						<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.ThemeForeground}"/>
						<Setter Property="Template">
							<Setter.Value>
								<ControlTemplate TargetType="Button">
									<Border Background="{TemplateBinding Background}"
                                            CornerRadius="8">
										<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
									</Border>
								</ControlTemplate>
							</Setter.Value>
						</Setter>
						<Style.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Gray3}"/>
								<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Accent}"/>
							</Trigger>
							<Trigger Property="IsPressed" Value="True">
								<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Accent}"/>
								<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.IdealForeground}"/>
							</Trigger>
						</Style.Triggers>
					</Style>

					<!-- Rounded GroupBox Style -->
					<Style x:Key="ModernGroupBox" TargetType="GroupBox" BasedOn="{StaticResource MahApps.Styles.GroupBox}">
						<Setter Property="Margin" Value="0,8"/>
						<Setter Property="Padding" Value="16"/>
						<Setter Property="BorderBrush" Value="{DynamicResource MahApps.Brushes.Gray5}"/>
						<Setter Property="BorderThickness" Value="1"/>
						<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Text}"/>
						<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Gray2}"/>
						<Setter Property="Template">
							<Setter.Value>
								<ControlTemplate TargetType="GroupBox">
									<Border Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="10"
                                            Padding="{TemplateBinding Padding}">
										<Grid>
											<Grid.RowDefinitions>
												<RowDefinition Height="Auto"/>
												<RowDefinition Height="*"/>
											</Grid.RowDefinitions>
											<ContentPresenter Grid.Row="0"
                                                              ContentSource="Header"
                                                              Margin="8,0,0,8"
                                                              TextBlock.FontWeight="SemiBold"/>
											<ContentPresenter Grid.Row="1"/>
										</Grid>
									</Border>
								</ControlTemplate>
							</Setter.Value>
						</Setter>
					</Style>

					<!-- Rounded Log Panel Style -->
					<Style x:Key="LogPanel" TargetType="Border">
						<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Gray1}"/>
						<Setter Property="BorderBrush" Value="{DynamicResource MahApps.Brushes.Gray5}"/>
						<Setter Property="BorderThickness" Value="1"/>
						<Setter Property="CornerRadius" Value="8"/>
						<Setter Property="Padding" Value="12"/>
					</Style>

					<!-- Text Styles -->
					<Style x:Key="HeaderText" TargetType="TextBlock">
						<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Text}"/>
						<Setter Property="FontWeight" Value="SemiBold"/>
						<Setter Property="FontSize" Value="20"/>
					</Style>

					<Style x:Key="SubHeaderText" TargetType="TextBlock">
						<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Text}"/>
						<Setter Property="FontSize" Value="16"/>
					</Style>

					<!-- Rounded Button Styles -->
					<Style x:Key="AccentButton" TargetType="Button" BasedOn="{StaticResource MahApps.Styles.Button.Square.Accent}">
						<Setter Property="Height" Value="40"/>
						<Setter Property="MinWidth" Value="120"/>
						<Setter Property="FontWeight" Value="Normal"/>
						<Setter Property="Template">
							<Setter.Value>
								<ControlTemplate TargetType="Button">
									<Border Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="6"
                                            Padding="{TemplateBinding Padding}">
										<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
									</Border>
								</ControlTemplate>
							</Setter.Value>
						</Setter>
					</Style>

					<Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource MahApps.Styles.Button.Square}">
						<Setter Property="Height" Value="40"/>
						<Setter Property="MinWidth" Value="100"/>
						<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Gray5}"/>
						<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Text}"/>
						<Setter Property="Template">
							<Setter.Value>
								<ControlTemplate TargetType="Button">
									<Border Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="6"
                                            Padding="{TemplateBinding Padding}">
										<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
									</Border>
								</ControlTemplate>
							</Setter.Value>
						</Setter>
						<Style.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Gray6}"/>
								<Setter Property="BorderBrush" Value="{DynamicResource MahApps.Brushes.Gray7}"/>
							</Trigger>
						</Style.Triggers>
					</Style>

					<!-- Rounded Navigation Sidebar Style -->
					<Style x:Key="NavigationSidebar" TargetType="Border">
						<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Gray2}"/>
						<Setter Property="BorderBrush" Value="{DynamicResource MahApps.Brushes.Gray5}"/>
						<Setter Property="BorderThickness" Value="0,0,1,0"/>
						<Setter Property="CornerRadius" Value="0,8,0,0"/>
					</Style>

					<!-- Improved Rounded TextBox Style with Better Theme Integration -->
					<Style x:Key="ModernTextBox" TargetType="TextBox" BasedOn="{StaticResource MahApps.Styles.TextBox}">
						<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.Gray1}"/>
						<Setter Property="BorderBrush" Value="{DynamicResource MahApps.Brushes.Gray5}"/>
						<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Text}"/>
						<Setter Property="BorderThickness" Value="1"/>
						<Setter Property="Padding" Value="10,8"/>
						<Setter Property="FontSize" Value="14"/>
						<Setter Property="Template">
							<Setter.Value>
								<ControlTemplate TargetType="TextBox">
									<Border x:Name="border"
                                            Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="6">
										<ScrollViewer x:Name="PART_ContentHost" 
                                                      Margin="{TemplateBinding Padding}"
                                                      Focusable="false"
                                                      HorizontalScrollBarVisibility="Hidden"
                                                      VerticalScrollBarVisibility="Hidden"/>
									</Border>
									<ControlTemplate.Triggers>
										<Trigger Property="IsEnabled" Value="false">
											<Setter Property="Background" TargetName="border" Value="{DynamicResource MahApps.Brushes.Gray2}"/>
											<Setter Property="BorderBrush" TargetName="border" Value="{DynamicResource MahApps.Brushes.Gray4}"/>
											<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Gray6}"/>
										</Trigger>
										<Trigger Property="IsMouseOver" Value="true">
											<Setter Property="BorderBrush" TargetName="border" Value="{DynamicResource MahApps.Brushes.Gray6}"/>
											<Setter Property="Background" TargetName="border" Value="{DynamicResource MahApps.Brushes.Gray2}"/>
										</Trigger>
										<Trigger Property="IsFocused" Value="true">
											<Setter Property="BorderBrush" TargetName="border" Value="{DynamicResource MahApps.Brushes.Accent}"/>
											<Setter Property="Background" TargetName="border" Value="{DynamicResource MahApps.Brushes.ThemeBackground}"/>
										</Trigger>
									</ControlTemplate.Triggers>
								</ControlTemplate>
							</Setter.Value>
						</Setter>
					</Style>

					<!-- Progress Ring Style -->
					<Style x:Key="ModernProgressRing" TargetType="Control">
						<Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Accent}"/>
						<Setter Property="Width" Value="60"/>
						<Setter Property="Height" Value="60"/>
					</Style>

					<!-- Override Application Background -->
					<Style TargetType="Window">
						<Setter Property="Background" Value="{DynamicResource MahApps.Brushes.ThemeBackground}"/>
					</Style>

					<!-- Override MahApps colors for rounded design -->
					<SolidColorBrush x:Key="MahApps.Brushes.Gray1" Color="#0F1A2E"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Gray2" Color="#16213E"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Gray3" Color="#1E2A4A"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Gray4" Color="#243356"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Gray5" Color="#2A3C62"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Gray6" Color="#30456E"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Gray7" Color="#364E7A"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Accent" Color="#64B5F6"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Text" Color="#F0F0F5"/>
					<SolidColorBrush x:Key="MahApps.Brushes.ThemeBackground" Color="#1A1A2E"/>
					<SolidColorBrush x:Key="MahApps.Brushes.ThemeForeground" Color="#F0F0F5"/>
					<SolidColorBrush x:Key="MahApps.Brushes.IdealForeground" Color="#F0F0F5"/>

					<!-- Title Bar Background -->
					<SolidColorBrush x:Key="MahApps.Brushes.WindowTitleBar" Color="#16213E"/>
					<SolidColorBrush x:Key="MahApps.Brushes.WindowTitleBarInactive" Color="#0F1A2E"/>

					<!-- Title Bar Text -->
					<SolidColorBrush x:Key="MahApps.Brushes.WindowTitle" Color="#F0F0F5"/>
					<SolidColorBrush x:Key="MahApps.Brushes.WindowTitleInactive" Color="#B8B8D1"/>

					<!-- Window Button Commands -->
					<SolidColorBrush x:Key="MahApps.Brushes.WindowButtonCommands.Background" Color="Transparent"/>
					<SolidColorBrush x:Key="MahApps.Brushes.WindowButtonCommands.Foreground" Color="#F0F0F5"/>
					<SolidColorBrush x:Key="MahApps.Brushes.WindowButtonCommands.MouseOver.Background" Color="#2A3C62"/>
					<SolidColorBrush x:Key="MahApps.Brushes.WindowButtonCommands.MouseOver.Foreground" Color="#64B5F6"/>
					<SolidColorBrush x:Key="MahApps.Brushes.WindowButtonCommands.Pressed.Background" Color="#64B5F6"/>
					<SolidColorBrush x:Key="MahApps.Brushes.WindowButtonCommands.Pressed.Foreground" Color="#F0F0F5"/>

					<!-- Override MahApps title bar colors -->
					<SolidColorBrush x:Key="MahApps.Brushes.Gray10" Color="#F0F0F5"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Gray9" Color="#9999B8"/>
					<SolidColorBrush x:Key="MahApps.Brushes.Gray8" Color="#6B6B8A"/>
				</ResourceDictionary>
			</ResourceDictionary.MergedDictionaries>
		</ResourceDictionary>
	</prism:PrismApplication.Resources>
</prism:PrismApplication>