<UserControl x:Class="ComicbookArchiveToolbox.Views.CompressPluginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:ComicbookArchiveToolbox.CommonTools"
             xmlns:prism="http://prismlibrary.com/"
             prism:ViewModelLocator.AutoWireViewModel="True">
	<UserControl.Resources>
		<converters:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
	</UserControl.Resources>
	<Border Padding="32" Margin="24" CornerRadius="12">
		<StackPanel>
			<!-- Title -->
			<TextBlock Text="Compress Pictures" FontSize="28" FontWeight="Bold" TextAlignment="Center" Margin="0,0,0,24"/>

			<!-- File Selection -->
			<GroupBox Header="Files" Margin="0,0,0,16">
				<StackPanel>
					<TextBlock Text="Input File" Margin="0,0,0,4"/>
					<Grid Margin="0,0,0,8">
						<Grid.ColumnDefinitions>
							<ColumnDefinition/>
							<ColumnDefinition Width="Auto"/>
						</Grid.ColumnDefinitions>
						<TextBox Grid.Column="0" Height="32" Text="{Binding FileToCompress, Mode=TwoWay}" VerticalContentAlignment="Center"/>
						<Button Grid.Column="1" Content="Browse..." Margin="8,0,0,0" Height="32" Command="{Binding BrowseFileCommand}"/>
					</Grid>
					<TextBlock Text="Output File" Margin="0,0,0,4"/>
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition/>
							<ColumnDefinition Width="Auto"/>
						</Grid.ColumnDefinitions>
						<TextBox Grid.Column="0" Height="32" Text="{Binding OutputFile, Mode=TwoWay}" VerticalContentAlignment="Center"/>
						<Button Grid.Column="1" Content="Browse..." Margin="8,0,0,0" Height="32" Command="{Binding BrowseOutputFileCommand}"/>
					</Grid>
				</StackPanel>
			</GroupBox>

			<!-- Resize Options -->
			<GroupBox Header="Resize Options" Margin="0,0,0,16">
				<StackPanel Orientation="Vertical">
					<StackPanel Orientation="Horizontal" Margin="0,0,0,8">
						<RadioButton Content="Ratio (%)" GroupName="ResizeStrategy"
                                     IsChecked="{Binding StrictRatio, Mode=TwoWay, Converter={StaticResource InverseBooleanConverter}}"
                                     VerticalAlignment="Center"/>
						<TextBox Width="60" Margin="8,0,0,0"
                                 Text="{Binding ImageRatio, Mode=TwoWay}"
                                 IsEnabled="{Binding StrictRatio, Converter={StaticResource InverseBooleanConverter}}"
                                 VerticalContentAlignment="Center"
                                 PreviewTextInput="NumericOnly"/>
					</StackPanel>
					<StackPanel Orientation="Horizontal">
						<RadioButton Content="Strict px Height" GroupName="ResizeStrategy"
                                     IsChecked="{Binding StrictRatio, Mode=TwoWay}"
                                     VerticalAlignment="Center"/>
						<TextBox Width="60" Margin="8,0,0,0"
                                 Text="{Binding ImageHeight, Mode=TwoWay}"
                                 IsEnabled="{Binding StrictRatio}"
                                 VerticalContentAlignment="Center"
                                 PreviewTextInput="NumericOnly"/>
					</StackPanel>
				</StackPanel>
			</GroupBox>

			<!-- Compression Quality -->
			<GroupBox Header="Compression" Margin="0,0,0,24">
				<StackPanel Orientation="Horizontal">
					<TextBlock Text="Image Quality (%)" VerticalAlignment="Center"/>
					<TextBox Width="60" Margin="8,0,0,0"
                             Text="{Binding ImageQuality, Mode=TwoWay}"
                             VerticalContentAlignment="Center"
                             PreviewTextInput="NumericOnly"/>
				</StackPanel>
			</GroupBox>

			<!-- Action Button -->
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
				<Button Content="Compress" Width="120" Height="40" Command="{Binding CompressCommand}"/>
			</StackPanel>
		</StackPanel>
	</Border>
</UserControl>
