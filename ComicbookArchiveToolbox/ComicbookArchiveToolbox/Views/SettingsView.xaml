<UserControl x:Class="ComicbookArchiveToolbox.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:converters="clr-namespace:ComicbookArchiveToolbox.CommonTools"
             prism:ViewModelLocator.AutoWireViewModel="True">
	<UserControl.Resources>
		<converters:InverseBooleanConverter x:Key="InverseConverter"/>
	</UserControl.Resources>
	<Grid Margin="24">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Title -->
		<TextBlock Text="Settings" FontSize="24" FontWeight="Bold" Margin="0,0,0,16"/>

		<!-- Settings Content -->
		<StackPanel Grid.Row="1" Orientation="Vertical">

			<!-- General Section -->
			<GroupBox Header="General" Padding="16" Margin="0,0,0,16">
				<StackPanel>
					<CheckBox Content="Always include cover in generated files"
                              IsChecked="{Binding AlwaysIncludeCover}"
                              FontSize="14"
                              Margin="0,0,0,8"
                              ToolTip="If checked, the first found picture in the selected archive(s) will be added to the generated file(s)"/>
					<CheckBox Content="Always include metadata if available in generated files"
                              IsChecked="{Binding AlwaysIncludeMetadata}"
                              FontSize="14"
                              Margin="0,0,0,8"
                              ToolTip="If checked, the first found metadata file in the selected archive(s) will be added to the generated file(s)"/>
					<CheckBox Content="Add File Index to Covers"
                              IsChecked="{Binding AddFileIndexToCovers, Mode=TwoWay}"
                              FontSize="14"
                              Margin="0,0,0,8"
                              ToolTip="If checked, a label with the file number will be added to the cover of the splitted files (if the option for adding the cover is checked)"/>
					<CheckBox Content="Hide Log window"
                              IsChecked="{Binding HideLog, Mode=TwoWay}"
                              FontSize="14"
                              ToolTip="If checked, the log buffer will be hidden"/>
				</StackPanel>
			</GroupBox>

			<!-- Buffer Section -->
			<GroupBox Header="Buffer Directory" Padding="16" Margin="0,0,0,16">
				<StackPanel>
					<CheckBox Content="Use input file folder as buffer"
                              IsChecked="{Binding UseFileDirAsBuffer, Mode=TwoWay}"
                              FontSize="14"
                              Margin="0,0,0,8"
                              ToolTip="If checked, the folder containing the selected file(s) will be used as a buffer directory instead of the ProgramData directory"/>
					<StackPanel Orientation="Horizontal"
                                IsEnabled="{Binding UseFileDirAsBuffer, Converter={StaticResource InverseConverter}}">
						<TextBlock Text="Buffer Path:" VerticalAlignment="Center" Width="100"/>
						<TextBox Text="{Binding BufferPath}" VerticalAlignment="Center" Width="300" Margin="8,0,0,0"/>
						<Button Content="Browse..." Command="{Binding BrowseDirectoryCommand}" VerticalAlignment="Center" Margin="8,0,0,0"/>
					</StackPanel>
				</StackPanel>
			</GroupBox>

			<!-- Output Section -->
			<GroupBox Header="Output" Padding="16">
				<UniformGrid Columns="2" Rows="2" Margin="0" HorizontalAlignment="Left">
					<StackPanel Margin="0,0,16,0">
						<TextBlock Text="Preferred output format:"/>
						<ComboBox ItemsSource="{Binding Formats}"
                                  SelectedItem="{Binding SelectedFormat}"
                                  Width="150"
                                  ToolTip="This tool cannot produce CBR files. Select your favourite output format"/>
					</StackPanel>
					<StackPanel>
						<TextBlock Text="Default Image Height:"/>
						<TextBox Text="{Binding DefaultImageHeight, Mode=TwoWay}" Width="100"/>
					</StackPanel>
				</UniformGrid>
			</GroupBox>
		</StackPanel>

		<!-- Action Buttons -->
		<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
			<Button Content="Save" Command="{Binding SaveSettingsCommand}" Width="100" Height="40"/>
		</StackPanel>
	</Grid>
</UserControl>

